<!--
ARCHES - a program developed to inventory and manage immovable cultural heritage.
Copyright (C) 2013 J. Paul Getty Trust and World Monuments Fund

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program. If not, see <http://www.gnu.org/licenses/>.
-->
{% extends "base-nifty.htm" %}
{% load staticfiles %}
{% load i18n %}

{% block title %}
{{ block.super }}
{% trans "Graph Manager" %}
{% endblock title %}

{% block body %}
<div class="loading-mask" data-bind="visible:loading()"></div>

<div id="edit-panel" class="pt-page fade relative in">

    <!-- Page Header -->
    <div class="ep-toolbar relative">

        <!-- Tools Menu -->
        <div class="ep-tools text-center">
          <a id="menu-control" href="" class="ep-tool-title" data-bind="click:function() { menuActive(!menuActive()); }"> Manage <i class="ion-more"></i></a>
        </div>

        <!-- Title Bar -->
        {% block graph_title %}
        <div class="ep-tools-title">
          <h1 class="page-header text-overflow ep-graph-title"><i class="{{metadata.iconclass|default:'fa fa-question'}}  text-center icon-wrap bg-gray ep-graph-title-icon"></i> {{metadata.name}}</h1>
        </div>
        {% endblock graph_title %}

        <!-- Search Bar -->
        <div class="ep-tools-search text-center">
          <a id="" href="" class=""><i class="ion-search add-tooltip" data-placement="bottom" data-toggle="tooltip" data-original-title="Search"></i></a>
        </div>

        <!-- Help Bar -->
        <div class="ep-tools-help text-center">
          <a id="help-control" href="" class=""><i class="ion-information-circled add-tooltip" data-placement="bottom" data-toggle="tooltip" data-original-title="Help"></i></a>
        </div>
    </div>

    <!-- Menu -->
    <div id="menu-panel" class="ep-menu" style="display: none;" data-bind="visible:menuActive()">
        <div class="panel ep-menu-panel relative" style="">

            <!-- Menu List -->
            <div class="panel-body">
               <ul class="list-group ep-menu-list">
                    <!-- Menu Item -->
                    <li id="" class="resource-selector">
                        <select data-placeholder="{% trans "Select a graph..." %}" class="design" style="width:100px;" data-bind="value: graphid, options: graphs, optionsText: 'name', optionsValue: 'graphid', chosen: true"></select>
                    </li>

                    <!-- Menu Item -->
                    <li id="settings-manager" class="edit-menu-item {% if main_script == "graph-settings" %} selected{% endif %}">

                        <a href="#" data-bind="click:function () { navigate('{% url 'graph_settings' graphid %}') }">
                            <div class="media-body">
                                <div class="menu-item-title"><i class="fa fa-wrench"></i> Settings</div>
                                <span class="text-muted menu-item-subtitle">Asset Name, Settings, Relations</span>
                            </div>
                        </a>
                    </li>

                    <!-- Menu Item -->
                    <li id="card-manager" class="edit-menu-item">
                        <a href="#">
                            <div class="media-body">
                                <div class="menu-item-title"><i class="fa fa-file-o"></i> Data Widgets and Cards </div>
                                <span class="text-muted menu-item-subtitle">Configure data entry cards</span>
                            </div>
                        </a>
                    </li>

                    <!-- Menu Item -->
                    <li id="form-manager" class="edit-menu-item">
                        <a href="#">
                            <div class="media-body">
                                <div class="menu-item-title"><i class="fa fa-files-o"></i> Data Entry Forms</div>
                                <span class="text-muted menu-item-subtitle">Group data entry cards</span>
                            </div>
                        </a>
                    </li>

                    <!-- Menu Item -->
                    <li class="edit-menu-item">
                        <a id="" href="#">
                            <div class="media-body">
                                <div class="menu-item-title"><i class="fa fa-book"></i> Reports</div>
                                <span class="text-muted menu-item-subtitle">Configure resource reports </span>
                            </div>
                        </a>
                    </li>

                    <!-- Menu Item -->
                    <li id="graph-manager" class="edit-menu-item {% if main_script == "graph-manager" %} selected{% endif %}">
                        <a href="#" data-bind="click:function () { navigate('{% url 'graph' graphid %}') }">
                            <div class="media-body">
                                <div class="menu-item-title"><i class="fa fa-sitemap"></i> Graphs/Semantics</div>
                                <span class="text-muted menu-item-subtitle">Define graph, permissions</span>
                            </div>
                        </a>
                    </li>

                    <!-- Menu Item -->
                    <li class="edit-menu-item">
                        <a id="" href="#">
                            <div class="media-body">
                                <div class="menu-item-title"><i class="fa fa-tag"></i> Return to Resource Designer</div>
                                <span class="text-muted menu-item-subtitle">Create Arches Resources </span>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="panel-footer ep-menu-footer hidden">

                footer
            </div>
        </div>
    </div>

    <!-- Help Panel -->
    <div id="" class="ep-help" style="display: none;">
        <div class="panel ep-help-panel relative" style="">

            <!-- Help Item List -->
            <div class="panel-body">
                <p class="ep-tool-title">Help Topics Go Here</p>

            </div>

            <div class="panel-footer ep-menu-footer">
                <div class="footer-tools">
                    <button id="close-help" class="btn btn-sm btn-primary btn-labeled fa fa-times">Close</button>
                </div>
            </div>

        </div>
    </div>


    <!-- Edit Content -->
    <div class="relative ep-content">
        <div id="" class="edit-content relative" style="top: 0px;">


            <!-- Settings -->
            <div id="settings-form" class="relative fade in" style="display: block;">
                <!-- Title Block -->
                <div class="ep-form-toolbar">
                    <div>
                        <h4 class="ep-form-toolbar-title">
                        {% block graph_header %}
                        {% endblock graph_header %}
                        </h4>
                    </div>

                    <!-- Tools -->
                    <div class="ep-form-toolbar-tools">
                        {% block graph_header_buttons %}
                        <button class="btn btn-sm btn-mint btn-labeled fa fa-mail-reply back-to-designer" data-bind="click:function () { navigate('{% url 'graph' '' %}') }">{% trans "Exit" %}</button>
                        {% endblock graph_header_buttons %}
                    </div>
                </div>

                <!-- Settings Form -->
                <div class="ep-form-content">
                    {% block content %}
                    {% endblock content %}
                </div>
            </div>


        </div>
    </div>
</div>
{% endblock body %}

{% block tabs %}{% endblock tabs %}

{% block pre_require_js %}
<script>{% autoescape off %}
define('graph-base-data', [], function () {
    return {
        graphs: {{graphs}},
        graphid: '{{graphid}}'
    };
});
{% endautoescape %}</script>
{% endblock pre_require_js %}
