{% extends "base-manager.htm" %}
{% load i18n %}
{% load staticfiles %}

{% block title %} {{ block.super }} {% trans "Recent Edits" %} {% endblock title %}


{% block main_content %}

    <div class="pad-all">
        <div class="resource-grid-title">{% trans "Recently Added Resources" %}</div>
        <div class="recent-additions-container">
            <table data-bind="datatable: resourceTableConfig" class="table table-striped table-bordered" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th>Resource Id</th>
                        <th>Resource Name</th>
                        <th>Resource Type</th>
                        <th class="min-desktop">Created</th>
                        <th class="min-tablet"></th>
                    </tr>
                </thead>
                <tbody>
                    {% for resource in resource_instances %}
                    <tr>
                        <td><a href="{% url 'resource_editor' resource.pk %}" class="regular-link" target="_blank">{{resource.pk}}</a></td>
                        <td>{{resource.displayname}}</td>
                        <td>{{resource.graph.name}}</td>
                        <td>{{resource.createdtime}}</td>
                        <td>
                            <a href="{% url 'resource_report' resource.pk %}" target="_blank" class="btn btn-primary">{% trans "View Report" %}</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

{% endblock main_content %}

{% block tabs %}{% endblock tabs %}

{% block pre_require_js %}
{{block.super}}
    <script>
        // define('search-data', [], function() {
        //     return {{% autoescape off %}
        //         searchable_nodes: {{ searchable_nodes }},
        //         resource_cards: {{ resource_cards }},
        //         datatypes: {{ datatypes_json }},
        //         saved_searches: {{ saved_searches }}
        //     {% endautoescape %}};
        // });
    </script>
{% endblock pre_require_js %}