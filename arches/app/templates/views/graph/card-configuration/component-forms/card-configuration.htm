{% load i18n %}

<!-- Title Block -->
<div class="library-title-block">
    <div class="">
        <h4 class="title-block-title" style=""> Card Manager </h4>
    </div>

    <!-- Panel Tools -->
<!--     <div class="library-tools">
        <i id="card-crud-settings" class="ion-settings add-tooltip library-tools-icon active" data-placement="bottom" data-toggle="tooltip" data-original-title="Settings"></i>
        <i id="card-crud-advanced" class="ion-ios-gear add-tooltip library-tools-icon" data-placement="bottom" data-toggle="tooltip" data-original-title="Advanced Settings"></i>
        <i id="card-crud-validation" class="ion-wand add-tooltip library-tools-icon" data-placement="bottom" data-toggle="tooltip" data-original-title="Validations"></i>
        <i id="card-crud-permissions" class="ion-ios-people add-tooltip library-tools-icon" data-placement="bottom" data-toggle="tooltip" data-original-title="Permissions"></i>
        <i id="card-crud-help" class="ion-ios-help add-tooltip library-tools-icon" data-placement="bottom" data-toggle="tooltip" data-original-title="Help Text"></i>
    </div> -->

    <!-- nav bar -->
    <ul class="nav nav-tabs library-tools">
        <li class="active">
            <a href="#card-crud-settings" class="nav-library-tab-link" data-toggle="tab" data-bind="click: function () { $parent.helpTabActive(false) }">
                <i class="ion-settings add-tooltip library-tools-icon" data-placement="bottom" data-toggle="tooltip" data-original-title="{% trans "Settings" %}"></i>
            </a>
        </li>
        <li>
            <a href="#card-crud-advanced" class="nav-library-tab-link" data-toggle="tab" data-bind="click: function () { $parent.helpTabActive(false) }">
                <i class="ion-ios-gear add-tooltip library-tools-icon" data-placement="bottom" data-toggle="tooltip" data-original-title="{% trans "Advanced Settings" %}"></i>
            </a>
        </li>
        <li>
            <a href="#card-crud-validation" class="nav-library-tab-link" data-toggle="tab" data-bind="click: function () { $parent.helpTabActive(false) }">
                <i class="ion-wand add-tooltip library-tools-icon" data-placement="bottom" data-toggle="tooltip" data-original-title="{% trans "Validations" %}"></i>
            </a>
        </li>
        <li>
            <a href="#card-crud-permissions" class="nav-library-tab-link" data-toggle="tab" data-bind="click: function () { $parent.helpTabActive(false) }">
                <i class="ion-ios-people add-tooltip library-tools-icon" data-placement="bottom" data-toggle="tooltip" data-original-title="{% trans "Permissions" %}"></i>
            </a>
        </li>
        <li>
            <a href="#card-crud-help" class="nav-library-tab-link" data-toggle="tab" data-bind="click: function () { $parent.helpTabActive(true) }">
                <i class="ion-ios-help add-tooltip library-tools-icon" data-placement="bottom" data-toggle="tooltip" data-original-title="{% trans "Help Text" %}"></i>
            </a>
        </li>
    </ul>

</div>

<!-- Tabs Content -->
<div class="tab-content listing-container">

    <!-- Card Container Base Settings Form -->
    <div id="card-crud-settings" class="tab-pane fade in active">

        <div class="node-widget-label" style="">
            <div class="control-label">
                {% trans "Card Tab Title" %}
            </div>
            <div>
                <input type="" placeholder="{% trans "Card name" %}" class="form-control input-md widget-input" data-bind="value: $data.get('name'), valueUpdate: 'keyup'">
            </div>
        </div>

        <div class="node-widget-label" style="">
            <div class="control-label">
                {% trans "Instructions" %}
            </div>
            <div>
                <input type="" placeholder="{% trans "" %}" class="form-control input-md widget-input" data-bind="value: $data.get('instructions'), valueUpdate: 'keyup'">
            </div>
        </div>
    </div>

    <!-- Card CRUD ADVANCED SETTINGS Form -->
    <div id="card-crud-advanced" class="tab-pane fade">

        <!-- Set Cardinaltiy -->
        <div data-bind="component: { name: 'switch-widget', params: {value: $data.get('cardinality'), config:{on: 'n', off: '1', label: '{% trans "Allow multiple values" %}', subtitle: '{% trans "Let users enter multiple values for this data entry card" %}'}}}"></div>

        <!-- Multiple values tools -->
        <div class="cardinality-form" data-bind="visible: $data.get('cardinality')() === 'n'" style="display: none;">

            <div class="form-divider" style="margin-top: 0px; margin-bottom: 10px;"></div>

            <!-- Cardinlity Tools: Tile Header -->
            <div class="node-widget-label" style="">
                <div class="control-label">
                    {% trans "Tile Name" %}
                </div>
                <div class="col-sm-12 pad-no crud-widget-container">
                    <input type="" placeholder="Tile name" class="form-control input-md widget-input" data-bind="value: $data.get('itemtext'), valueUpdate: 'keyup'">
                </div>
            </div>
        </div>
    </div>

    <!-- Card CRUD Validation/Functions Form -->
    <div id="card-crud-validation" class="tab-pane fade">
        <!-- Functions -->
        <div class="node-widget-label">
            <div class="control-label">
                {% trans "Validation Functions" %}
            </div>
            <div>
                <select class="resources" data-bind="value: $data.get('applied_functions'), options: $data.get('functions'), valueAllowUnset: true, optionsCaption: '{% trans "Choose a function..." %}', chosen: {disable_search_threshold: 10, width: '100%'}"></select>
            </div>
        </div>

        <!-- Functions -->
        <div class="node-widget-label">
            <div class="control-label">
                {% trans "Processing Functions" %}
            </div>
            <div>
                <select class="resources" data-bind="value: $data.get('applied_functions'), options: $data.get('functions'), valueAllowUnset: true, optionsCaption: '{% trans "Choose a function..." %}', chosen: {disable_search_threshold: 10, width: '100%'}"></select>
            </div>
        </div>
    </div>

    <!-- Card CRUD Permissions Form -->
    <div id="card-crud-permissions" class="tab-pane fade">

        <!-- Group/User -->
        <div id="all" class="library-card permissions all library-card-wide">
            <div class="library-icon" style="">
                <span class="icon-wrap icon-wrap-sm icon-circle bg-purple"><i class="fa fa-group"></i></span>
            </div>
            <div class="library-card-main" style="">
                <a class="" style="" href="#">
                    All accounts
                </a>
            </div>
            <div class="library-card-subtitle none" style="">
                Permission: ---
            </div>
        </div>

        <!-- Group/User -->
        <div class="library-card permissions library-card-wide" style="">
            <div class="library-icon" style="">
                <span class="icon-wrap icon-wrap-sm icon-circle bg-purple"><i class="fa fa-group"></i></span>
            </div>
            <div class="library-card-main" style="">
                <a class="" style="" href="#">
                    Guest
                </a>
            </div>
            <div class="library-card-subtitle text-muted full" style="">
                N - No Access
            </div>
        </div>

        <!-- Group/User -->
        <div class="library-card permissions library-card-wide">
            <div class="library-icon" style="">
                <span class="icon-wrap icon-wrap-sm icon-circle bg-purple"><i class="fa fa-group"></i></span>
            </div>
            <div class="library-card-main" style="">
                <a class="" style="" href="#">
                    Crowd Source
                </a>
            </div>
            <div class="library-card-subtitle full" style="">
                RW - Read/Write
            </div>
        </div>

        <!-- Group/User -->
        <div class="library-card permissions library-card-wide">
            <div class="library-icon" style="">
                <span class="icon-wrap icon-wrap-sm icon-circle bg-purple"><i class="fa fa-group"></i></span>
            </div>
            <div class="library-card-main" style="">
                <a class="" style="" href="#">
                    Editor
                </a>
            </div>
            <div class="library-card-subtitle full" style="">
                F -Full Access
            </div>
        </div>

        <!-- Group/User -->
        <div class="library-card permissions library-card-wide">
            <div class="library-icon" style="">
                <span class="icon-wrap icon-wrap-sm icon-circle bg-purple"><i class="fa fa-group"></i></span>
            </div>
            <div class="library-card-main" style="">
                <a class="" style="" href="#">
                    RDM Admin
                </a>
            </div>
            <div class="library-card-subtitle read" style="">
                R -Read Only
            </div>
        </div>

        <!-- Group/User -->
        <div class="library-card permissions library-card-wide">
            <div class="library-icon" style="">
                <span class="icon-wrap icon-wrap-sm icon-circle bg-mint"><i class="fa fa-user"></i></span>
            </div>
            <div class="library-card-main" style="">
                <a class="" style="" href="#">
                    rgaston@realsuperuser.com
                </a>
            </div>
            <div class="library-card-subtitle full" style="">
                F - Full Access
            </div>
        </div>

        <!-- Group/User -->
        <div class="library-card permissions library-card-wide">
            <div class="library-icon" style="">
                <span class="icon-wrap icon-wrap-sm icon-circle bg-mint"><i class="fa fa-user"></i></span>
            </div>
            <div class="library-card-main" style="">
                <a class="" style="" href="#">
                    adalgity@gci.edu
                </a>
            </div>
            <div class="library-card-subtitle delete" style="">
                D - Delete
            </div>
        </div>

    </div>

    <!-- Card CRUD HELP Form -->
    <div id="card-crud-help" class="tab-pane fade">

        <!-- Enable help -->
        <div data-bind="component: { name: 'switch-widget', params: {value: $data.get('helpenabled'), config:{label: '{% trans "Enable Card-level help" %}', subtitle: '{% trans "Provide specific user guidance for this card" %}'}}}"></div>

    </div>

    <!-- Tertiary Panel For Card Help Text-->
    <div id="help-text-crud" class="tertiary-panel" style="display: none;" data-bind="visible:$parent.helpTabActive() && $data.get('helpenabled')">
        <div class="tertiary-panel-content">
            <div class="">
                <h4 class="title-block-title" style=""> Card-Level Help </h4>
            </div>

            <!-- Help CRUD -->
            <div class="pad-all">
                <div class="node-widget-label" style="">
                    <div class="control-label">
                        Help Panel Title
                    </div>
                    <div class="col-sm-12 pad-no crud-widget-container">
                        <input type="" placeholder="{% trans "Help title" %}" class="form-control input-md widget-input" data-bind='value: $data.get("helptitle")'>
                    </div>
                </div>

                <!--Summernote-->
                <div class="node-widget-label" style="">
                    <div class="control-label">
                        {% trans "Help Content" %}
                    </div>
                    <div class="summernote" data-bind='summernote: {value: $data.get("helptext")}'></div>
                </div>

                <!-- Preview help -->
                <div data-bind="component: { name: 'switch-widget', params: {value: $parent.helpPreviewActive, config:{label: '{% trans "Preview Help Panel" %}', subtitle: '{% trans "Display help panel, confirm content" %}'}}}"></div>
                <div class="toggle-container">
                    <input id="preview-card-help" class="arches-switch" type="checkbox" data-switchery="true" style="display: none;">
                    <p class="arches-toggle-sm">

                    </p>
                    <span class="arches-toggle-subtitle">

                    </span>
                </div>
            </div>
        </div>
    </div>

    <!-- Tertiary Panel For Permissions -->
    <div id="permissions-crud" class="tertiary-panel" style="display: none;">
        <div class="tertiary-panel-content">
            <div class="">
                <h4 class="title-block-title" style=""> Card Permissions </h4>
                <div class="relative">
                    <a id="permissions-close" href="" class="library-close-btn fa fa-times fa-lg" style=""></a>
                </div>
                <div class="" style="padding-top: 20px; position: relative;">
                    <p class="library-instructions" style=""> Set permissions for this data entry card.  Update the Groups/User accounts you selected with the following permissions:</p>
                </div>
            </div>

            <!-- Premission Selector -->
            <div style="margin-top: 8px;">
                <select class="resources" data-placeholder="" id="permissions" tabindex="0">
                    <option>N - No Access</option>
                    <option>R - Read Only</option>
                    <option>RW -Read/Write</option>
                    <option>D - Delete</option>
                    <option>F - Full Access (read, write, delete)</option>
                </select>

                <div class="" style="margin: 5px 0px 10px 2px;">
                    <label class="form-checkbox form-normal form-primary active form-text"><input type="checkbox" checked=""> Apply permissions to all cards in this group</label>
                </div>

                <button id="apply-permissions" class="btn btn-primary btn btn-block btn-labeled fa fa-plus" style="margin-top: 10px; margin-bottom: 10px;"> Apply permissions</button>
            </div>

            <!-- Premission Key -->
            <div id="confirm-permissions" class="key" style="display: none;">

                <h4 class="node-title" style="font-size: 13px;"> Applying F- Full Access permissions: </h4>

                <!-- Alert -->
                <div id="permission-alert" class="panel install-card-alert" style="margin-bottom: 10px;"></div>


                <div class="panel-body" style="padding: 0 10px 10px 10px;">
                    <dl>
                        <dd><i class="fa fa-check"></i> Guests Group updated</dd>
                        <dd><i class="fa fa-check"></i> Crowd Source Group updated</dd>
                        <dd><i class="fa fa-times"></i> rgaston@superuser.com <a class="text-primary permission-alert" href="#">IGNORED</a></dd>
                        <dd><i class="fa fa-check"></i> adalgity@gci.edu updated</dd>
                    </dl>
                </div>
                <div class="" style="">
                    <dt>Permission updates completed!</dt>
                </div>
            </div>
        </div>
    </div>

</div>
